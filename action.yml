name: 'Install Slap'
description: 'Install Slap into your Action environment using Python 3.10 and Pipx.'
inputs:
  version:
    description: The version of Slap to install
    required: true
    default: '*'
runs:
  using: "composite"
  steps:

    - name: Set up Python 3.10
      uses: actions/setup-python@v2
      with: { python-version: "3.10" }

    - name: Install Slap
      shell: bash
      run: |
        VERSION='${{ inputs.version }}'
        if [ "$VERSION" == '*' ]; then
          VERSION=''
        elif [[ $VERSION =~ ^[0-9] ]]; then
          VERSION="==$VERSION"
        fi
        pip install pipx -q && pipx install "slap-cli$VERSION"
